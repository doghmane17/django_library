<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
  </head>
  <body>
    {% if form.non_field_errors %}
    <p>Your username or password is incorrect.</p>
    {% endif %} {% if next %} {% if request.user.is_authenticated %}
    <p>You already have permission to see this page.</p>
    {% else %}
    <p>Please log in to access this page.</p>
    {% endif %} {% endif %}

    <form action="{% url 'login' %}" method="post">
      {% csrf_token %} {{ form.as_p }}
      <input type="submit" value="Login" />
      <input type="hidden" name="next" value="{{ next }}" />
    </form>
  </body>
</html>
